"
A diagram showing how to navigate from classes to compiled methods and their ASTs.
"
Class {
	#name : #NavigatingClassesAndMethods,
	#superclass : #Object,
	#category : #'GToolkit-Demo-Reflection-Examples'
}

{ #category : #accessing }
NavigatingClassesAndMethods >> associations [
	^ {CompiledMethod
			-> {Behavior.
					RBMethodNode}.
		Behavior -> {MethodDictionary}.
		MethodDictionary -> {CompiledMethod}}
]

{ #category : #accessing }
NavigatingClassesAndMethods >> classes [
	^ {Behavior.
		ClassDescription.
		Class.
		Metaclass.
		MethodDictionary.
		CompiledMethod.
		RBMethodNode.
		RBProgramNode.
		RBValueNode.
		RBMessageNode}
]

{ #category : #accessing }
NavigatingClassesAndMethods >> explicitPositions [
	^ ((Array new: 56) at: 1 put: ((96.29166666666669@201.48549397786462)); at: 2 put: ((73.29166666666669@288.4854939778646)); at: 3 put: ((65.29166666666669@384.4854939778646)); at: 4 put: ((137.29166666666669@385.4854939778646)); at: 5 put: ((228.29166666666669@200.48549397786462)); at: 6 put: ((232.29166666666669@287.4854939778646)); at: 7 put: ((303.64866892496747@381.4854939778646)); at: 8 put: ((384.315668741862@200.48549397786462)); at: 9 put: ((436.36267344156903@287.4854939778646)); at: 10 put: ((466.7526728312175@380.4854939778646)); at: 11 put: ((128.82389742434736@231.0833333333334)); at: 12 put: ((93.89403970841038@318.08333333333337)); at: 13 put: ((135.4848629444519@318.08333333333337)); at: 14 put: ((363.21527006166104@230.08333333333334)); at: 15 put: ((447.3712932616794@230.08333333333337)); at: 16 put: ((489.0970610083215@317.08333333333337)); at: 17 put: ((156.64763073467805@231.0833333333334)); at: 18 put: ((156.64763073467805@231.0833333333334)); at: 19 put: ((156.64763073467805@231.0833333333334)); at: 20 put: ((156.64763073467805@231.0833333333334)); at: 21 put: ((156.64763073467805@231.0833333333334)); at: 22 put: ((156.64763073467805@231.0833333333334)); at: 23 put: ((156.64763073467805@231.0833333333334)); at: 24 put: ((156.64763073467805@231.0833333333334)); at: 25 put: ((156.64763073467805@231.0833333333334)); at: 26 put: ((156.64763073467805@231.0833333333334)); at: 27 put: ((300.1655448721665@317.08333333333337)); at: 28 put: ((300.1655448721665@317.08333333333337)); at: 29 put: ((300.1655448721665@317.08333333333337)); at: 30 put: ((300.1655448721665@317.08333333333337)); at: 31 put: ((300.1655448721665@317.08333333333337)); at: 32 put: ((300.1655448721665@317.08333333333337)); at: 33 put: ((300.1655448721665@317.08333333333337)); at: 34 put: ((300.1655448721665@317.08333333333337)); at: 35 put: ((300.1655448721665@317.08333333333337)); at: 36 put: ((300.1655448721665@317.08333333333337)); at: 37 put: ((161.70966974894208@202.5518520369636)); at: 38 put: ((161.70966974894208@202.5518520369636)); at: 39 put: ((161.70966974894208@202.5518520369636)); at: 40 put: ((161.70966974894208@202.5518520369636)); at: 41 put: ((161.70966974894208@202.5518520369636)); at: 42 put: ((161.70966974894208@202.5518520369636)); at: 43 put: ((161.70966974894208@202.5518520369636)); at: 44 put: ((161.70966974894208@202.5518520369636)); at: 45 put: ((161.70966974894208@202.5518520369636)); at: 46 put: ((161.70966974894208@202.5518520369636)); at: 47 put: ((287.9449475383997@230.08333333333334)); at: 48 put: ((287.9449475383997@230.08333333333334)); at: 49 put: ((287.9449475383997@230.08333333333334)); at: 50 put: ((287.9449475383997@230.08333333333334)); at: 51 put: ((287.9449475383997@230.08333333333334)); at: 52 put: ((287.9449475383997@230.08333333333334)); at: 53 put: ((287.9449475383997@230.08333333333334)); at: 54 put: ((287.9449475383997@230.08333333333334)); at: 55 put: ((287.9449475383997@230.08333333333334)); at: 56 put: ((287.9449475383997@230.08333333333334)); yourself)
]

{ #category : #accessing }
NavigatingClassesAndMethods >> mondrian [
	<gtExample>
	| m |
	m := UmlClassDiagram new
			classHierarchyFor: self classes
			withAssociations: self associations.

	m layout custom: BlBasicLayout new.

	m root children
		withIndexDo: [ :child :n | child relocate: (self explicitPositions at: n) ].

	^ m
]
